<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <title>Color Game ðŸŽ²</title>
Â  <style>
Â  Â  html, body {
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 0;
Â  Â  Â  height: 100vh;
Â  Â  Â  width: 100vw;
Â  Â  Â  font-family: sans-serif;
Â  Â  Â  background: url('bg.jpg') no-repeat center center fixed;
Â  Â  Â  background-size: 100% 100%;
Â  Â  Â  overflow: hidden;
Â  Â  }

Â  Â  .page-wrapper {
Â  Â  Â  width: 100%;
Â  Â  Â  max-width: 1000px;
Â  Â  Â  position: absolute;
Â  Â  Â  top: 180px;
Â  Â  Â  left: 50%;
Â  Â  Â  transform: translateX(-50%);
Â  Â  }

Â  Â  .container {
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  align-items: flex-start;
Â  Â  Â  gap: 40px;
Â  Â  Â  width: 100%;
Â  Â  }

Â  Â  .panel {
Â  Â  Â  flex-shrink: 0;
Â  Â  Â  width: 200px;
Â  Â  Â  height: 280px;
Â  Â  Â  overflow-y: auto;
Â  Â  Â  border: 4px solid #007acc;
Â  Â  Â  background: white;
Â  Â  Â  padding: 15px;
Â  Â  Â  border-radius: 10px;
Â  Â  }

Â  Â  .panel h3 {
Â  Â  Â  margin-top: 0;
Â  Â  Â  text-align: center;
Â  Â  Â  color: #007acc;
Â  Â  }

Â  Â  .color-box {
Â  Â  Â  width: 20px;
Â  Â  Â  height: 20px;
Â  Â  Â  border: 1px solid #333;
Â  Â  Â  opacity: 0.9;
Â  Â  Â  margin-left: 5px;
Â  Â  }

Â  Â  .history-item {
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  margin-bottom: 10px;
Â  Â  }

Â  Â  .game-area {
Â  Â  Â  width: 320px;
Â  Â  Â  height: 300px;
Â  Â  Â  background: #fff;
Â  Â  Â  border: 8px solid #007acc;
Â  Â  Â  border-radius: 12px;
Â  Â  Â  position: relative;
Â  Â  Â  perspective: 1000px;
Â  Â  Â  overflow: hidden;
Â  Â  }

Â  Â  .dice {
Â  Â  Â  width: 60px;
Â  Â  Â  height: 60px;
Â  Â  Â  position: absolute;
Â  Â  Â  top: 120px;
Â  Â  Â  transform-style: preserve-3d;
Â  Â  }

Â  Â  .face {
Â  Â  Â  position: absolute;
Â  Â  Â  width: 60px;
Â  Â  Â  height: 60px;
Â  Â  Â  opacity: 0.95;
Â  Â  Â  border: 1px solid #333;
Â  Â  }

Â  Â  .face.front  { background: red;    transform: rotateY(0deg) translateZ(30px); }
Â  Â  .face.back   { background: violet; transform: rotateY(180deg) translateZ(30px); }
Â  Â  .face.right  { background: blue;   transform: rotateY(90deg) translateZ(30px); }
Â  Â  .face.left   { background: green;  transform: rotateY(-90deg) translateZ(30px); }
Â  Â  .face.top    { background: white;  transform: rotateX(-90deg) translateZ(30px); }
Â  Â  .face.bottom { background: yellow; transform: rotateX(90deg) translateZ(30px); }

Â  Â  button {
Â  Â  Â  font-size: 18px;
Â  Â  Â  padding: 10px 20px;
Â  Â  Â  background: #28a745;
Â  Â  Â  color: white;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  transition: box-shadow 0.3s ease;
Â  Â  }

Â  Â  button:hover {
Â  Â  Â  box-shadow: 0 0 15px 4px rgba(40, 167, 69, 0.7);
Â  Â  }

Â  Â  .result {
Â  Â  Â  text-align: center;
Â  Â  Â  margin-top: 10px;
Â  Â  Â  font-weight: bold;
Â  Â  }

Â  Â  #riggedHint {
Â  Â  Â  width: 6px;
Â  Â  Â  height: 6px;
Â  Â  Â  background: red;
Â  Â  Â  position: absolute;
Â  Â  Â  top: 6px;
Â  Â  Â  right: 6px;
Â  Â  Â  border-radius: 50%;
Â  Â  Â  opacity: 0.5;
Â  Â  Â  z-index: 9999;
Â  Â  Â  pointer-events: none;
Â  Â  }

Â  Â  #historyCountInput {
Â  Â  Â  margin-top: 10px;
Â  Â  Â  width: 60px;
Â  Â  Â  padding: 5px;
Â  Â  Â  font-size: 14px;
Â  Â  }

Â  Â  .legend {
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  gap: 10px;
Â  Â  Â  margin: 10px 0;
Â  Â  }

Â  Â  .game-wrapper {
Â  Â  Â  flex-shrink: 0;
Â  Â  Â  width: 320px;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  }

Â  Â  .center-controls {
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  align-items: center;
Â  Â  Â  margin-top: 10px;
Â  Â  }

Â  Â  .draggable-bet-box {
Â  Â  Â  margin-top: 12px;
Â  Â  Â  background: white;
Â  Â  Â  border: 2px solid #007acc;
Â  Â  Â  border-radius: 6px;
Â  Â  Â  padding: 6px;
Â  Â  Â  width: auto;
Â  Â  Â  display: flex;
Â  Â  Â  position: relative;
Â  Â  }

Â  Â  #allowedBets {
Â  Â  Â  font-size: 50px;
Â  Â  Â  line-height: 1.2;
Â  Â  Â  border: none;
Â  Â  Â  outline: none;
Â  Â  Â  resize: none;
Â  Â  Â  overflow: hidden;
Â  Â  Â  display: block;
Â  Â  Â  background: transparent;
Â  Â  Â  min-height: 30px;
Â  Â  Â  min-width: 200px;
Â  Â  Â  box-sizing: content-box;
Â  Â  Â  white-space: pre;
Â  Â  }
Â  </style>
</head>
<body>

<div id="riggedHint"></div>

<audio id="rollSound" src="https://raw.githubusercontent.com/ONLlNE-DICE/R-COLOR-GAME/main/roll.ogg"></audio>
<audio id="winSound" src="https://raw.githubusercontent.com/ONLlNE-DICE/R-COLOR-GAME/main/success.ogg"></audio>

<div class="page-wrapper">
Â  <div class="container">
Â  Â  <div class="panel">
Â  Â  Â  <h3>Previous Rolls</h3>
Â  Â  Â  <label for="historyCountInput">Show:</label>
Â  Â  Â  <input id="historyCountInput" type="number" min="1" max="20" value="5" onchange="adjustHistoryCount()">
Â  Â  Â  <div id="historyBox" style="margin-top: 10px;"></div>
Â  Â  </div>

Â  Â  <div class="game-wrapper">
Â  Â  Â  <div class="game-area" id="gameArea"></div>

Â  Â  Â  <div class="legend">
Â  Â  Â  Â  <div class="color-box" style="background:red" title="Red"></div>
Â  Â  Â  Â  <div class="color-box" style="background:blue" title="Blue"></div>
Â  Â  Â  Â  <div class="color-box" style="background:green" title="Green"></div>
Â  Â  Â  Â  <div class="color-box" style="background:yellow" title="Yellow"></div>
Â  Â  Â  Â  <div class="color-box" style="background:white" title="White"></div>
Â  Â  Â  Â  <div class="color-box" style="background:violet" title="Violet"></div>
Â  Â  Â  </div>

Â  Â  Â  <div class="result" id="resultText">Waiting for roll...</div>

Â  Â  Â  <div class="center-controls">
Â  Â  Â  Â  <button id="rollButton" onclick="rollDice()">ROLL DICE</button>
Â  Â  Â  Â  <div class="draggable-bet-box">
Â  Â  Â  Â  Â  <textarea id="allowedBets" placeholder="Enter..."></textarea>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div class="panel">
Â  Â  Â  <h3>Current Roll</h3>
Â  Â  Â  <div id="currentBox" style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;"></div>
Â  Â  </div>
Â  </div>
</div>

<script>
Â  const rotations = {
Â  Â  Red: "rotateX(0deg) rotateY(0deg)",
Â  Â  Violet: "rotateX(0deg) rotateY(180deg)",
Â  Â  Blue: "rotateX(0deg) rotateY(-90deg)",
Â  Â  Green: "rotateX(0deg) rotateY(90deg)",
Â  Â  White: "rotateX(90deg) rotateY(0deg)",
Â  Â  Yellow: "rotateX(-90deg) rotateY(0deg)"
Â  };

Â  const colors = ["Red", "Blue", "Green", "Yellow", "White", "Violet"];
Â  const gameArea = document.getElementById("gameArea");
Â  const resultText = document.getElementById("resultText");
Â  const historyBox = document.getElementById("historyBox");
Â  const currentBox = document.getElementById("currentBox");
Â  const rollSound = document.getElementById("rollSound");
Â  const winSound = document.getElementById("winSound");

Â  function adjustHistoryCount() {
Â  Â  const input = document.getElementById("historyCountInput");
Â  Â  const value = parseInt(input.value);
Â  Â  if (!isNaN(value) && value > 0) {
Â  Â  Â  historyLimit = value;
Â  Â  Â  updateHistory([]);
Â  Â  }
Â  }

Â  let rigged = null;
Â  let history = [];
Â  let historyLimit = 5;

Â  function createColorBox(color) {
Â  Â  const div = document.createElement("div");
Â  Â  div.className = "color-box";
Â  Â  div.style.background = color.toLowerCase();
Â  Â  return div;
Â  }

Â  function updateHistory(colors) {
Â  Â  history.unshift(colors);
Â  Â  if (history.length > historyLimit) history.length = historyLimit;
Â  Â  historyBox.innerHTML = "";
Â  Â  history.forEach((entry, idx) => {
Â  Â  Â  const row = document.createElement("div");
Â  Â  Â  row.className = "history-item";
Â  Â  Â  const label = document.createElement("span");
Â  Â  Â  label.textContent = `${idx + 1}.`;
Â  Â  Â  label.style.width = "20px";
Â  Â  Â  row.appendChild(label);
Â  Â  Â  entry.forEach(color => row.appendChild(createColorBox(color)));
Â  Â  Â  historyBox.appendChild(row);
Â  Â  });
Â  }

Â  function updateCurrent(colors) {
Â  Â  currentBox.innerHTML = "";
Â  Â  colors.forEach(color => currentBox.appendChild(createColorBox(color)));
Â  }

Â  function rollDice() {
Â  Â  const rollBtn = document.getElementById("rollButton");
Â  Â  if (rollBtn.disabled) return;
Â  Â  rollBtn.disabled = true;

Â  Â  gameArea.innerHTML = "";
Â  Â  resultText.textContent = "ðŸŽ² Rolling...";
Â  Â  rollSound.currentTime = 0;
Â  Â  rollSound.play();

Â  Â  const results = rigged || [
Â  Â  Â  colors[Math.floor(Math.random() * colors.length)],
Â  Â  Â  colors[Math.floor(Math.random() * colors.length)],
Â  Â  Â  colors[Math.floor(Math.random() * colors.length)]
Â  Â  ];

Â  Â  results.forEach((color, i) => {
Â  Â  Â  const dice = document.createElement("div");
Â  Â  Â  dice.className = "dice";
Â  Â  Â  dice.style.left = `${60 + i * 70}px`;
Â  Â  Â  gameArea.appendChild(dice);

Â  Â  Â  ["front", "back", "right", "left", "top", "bottom"].forEach(face => {
Â  Â  Â  Â  const f = document.createElement("div");
Â  Â  Â  Â  f.className = `face ${face}`;
Â  Â  Â  Â  dice.appendChild(f);
Â  Â  Â  });

Â  Â  Â  const baseRotation = rotations[color];
Â  Â  Â  if (!baseRotation) return;

Â  Â  Â  const match = baseRotation.match(/rotateX\((-?\d+)deg\)\srotateY\((-?\d+)deg\)/);
Â  Â  Â  if (!match) return;

Â  Â  Â  const x = parseInt(match[1]);
Â  Â  Â  const y = parseInt(match[2]);
Â  Â  Â  const finalRotation = `rotateX(${x + 720}deg) rotateY(${y + 720}deg)`;

Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  dice.style.transition = "transform 1.5s ease-in-out";
Â  Â  Â  Â  dice.style.transform = finalRotation;
Â  Â  Â  }, 50);
Â  Â  });

Â  Â  setTimeout(() => {
Â  Â  Â  resultText.textContent = `ðŸŽ¯ Result: ${results.join(", ")}`;
Â  Â  Â  updateCurrent(results);
Â  Â  Â  updateHistory(results);
Â  Â  }, 1600);

Â  Â  setTimeout(() => {
Â  Â  Â  winSound.currentTime = 0;
Â  Â  Â  winSound.play();
Â  Â  Â  rollBtn.disabled = false;
Â  Â  }, 1100);
Â  }

Â  // Auto-expand textarea
Â  const textarea = document.getEle
mentById("allowedBets");
Â  function autoExpand(el) {
Â  Â  el.style.height = "auto";
Â  Â  el.style.width = "auto";
Â  Â  el.style.height = el.scrollHeight + "px";
Â  Â  el.style.width = el.scrollWidth + "px";
Â  }
Â  textarea.addEventListener("input", function () {
Â  Â  autoExpand(this);
Â  });
Â  autoExpand(textarea);
</script>

</body>
</html>
